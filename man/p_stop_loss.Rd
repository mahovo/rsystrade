% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/position_modifiers.R
\name{p_stop_loss}
\alias{p_stop_loss}
\title{Stop Loss Position Modifier}
\usage{
p_stop_loss(
  t,
  position_size_ccy,
  price,
  instrument_risk,
  t_last_position_entry,
  direction,
  stop_loss_fraction = 0.5,
  rnd = FALSE
)
}
\arguments{
\item{t}{Time index.}

\item{price}{A vector of prices in currency. Oldest first. Top to bottom:
Older to newer.}

\item{instrument_risk}{Instrument risk at time t-1.}

\item{direction}{Was current trade long or short at time t-1? 1 for long, -1
for short.}

\item{stop_loss_fraction}{Stop loss fraction.}

\item{rnd}{If TRUE, add small random amount to stop loss level. Negative if
short.}

\item{t_trade_entry}{Time index of the time when current trade was entered.}
}
\value{
A named list containing:
\itemize{
\item \code{signal} Trade on/off indicator: 1 or 0
\item \code{stop_loss_gap} Stop loss gap
}
}
\description{
Return 0 if price level breached stop loss threshold. Return input
position_size_ccy if stop loss threshold was not breached.
}
